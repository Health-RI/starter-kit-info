<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="741px" preserveAspectRatio="none" style="width:708px;height:741px;" version="1.1" viewBox="0 0 708 741" width="708px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jkxszacicw65" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[b5994107bf68df8bcd4dc7c3632fd215]
cluster Proxy--><polygon fill="#F8F8F8" filter="url(#f1jkxszacicw65)" points="397,185,407,175,563,175,563,258,553,268,397,268,397,185" style="stroke: #A9A9A9; stroke-width: 1.5;"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="553" x2="562" y1="185" y2="176"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="397" x2="553" y1="185" y2="185"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="553" x2="553" y1="185" y2="268"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45" x="453.5" y="200.9951">Proxy</text><!--MD5=[c86d0979aa12a33121f34426e987856a]
cluster REMS--><polygon fill="#F8F8F8" filter="url(#f1jkxszacicw65)" points="304,309,314,299,472,299,472,588,462,598,304,598,304,309" style="stroke: #A9A9A9; stroke-width: 1.5;"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="462" x2="471" y1="309" y2="300"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="304" x2="462" y1="309" y2="309"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="462" x2="462" y1="309" y2="598"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42" x="363" y="324.9951">REMS</text><!--MD5=[f72f69a628f0cba24501b65e6ac59598]
entity Applicant--><ellipse cx="382" cy="33.5" fill="#D3D3D3" filter="url(#f1jkxszacicw65)" rx="8" ry="8" style="stroke: #000000; stroke-width: 1.5;"/><path d="M382,41.5 L382,68.5 M369,49.5 L395,49.5 M382,68.5 L369,83.5 M382,68.5 L395,83.5 " fill="none" filter="url(#f1jkxszacicw65)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="350.5" y="101.9951">Applicant</text><!--MD5=[455e6e2cd5a7577dc856615ef818768c]
entity Approver--><ellipse cx="480" cy="33.5" fill="#D3D3D3" filter="url(#f1jkxszacicw65)" rx="8" ry="8" style="stroke: #000000; stroke-width: 1.5;"/><path d="M480,41.5 L480,68.5 M467,49.5 L493,49.5 M480,68.5 L467,83.5 M480,68.5 L493,83.5 " fill="none" filter="url(#f1jkxszacicw65)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="449" y="101.9951">Approver</text><!--MD5=[c5727cefa6b673d855ceb3a34f0ccb6e]
entity APIUser--><ellipse cx="573" cy="33.5" fill="#D3D3D3" filter="url(#f1jkxszacicw65)" rx="8" ry="8" style="stroke: #000000; stroke-width: 1.5;"/><path d="M573,41.5 L573,68.5 M560,49.5 L586,49.5 M573,68.5 L560,83.5 M573,68.5 L586,83.5 " fill="none" filter="url(#f1jkxszacicw65)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="546.5" y="101.9951">APIUser</text><!--MD5=[a0fef4f34cb3559b44f1c4ed44c10eb8]
entity Apache--><rect fill="#008292" filter="url(#f1jkxszacicw65)" height="52.5938" style="stroke: #A9A9A9; stroke-width: 1.5;" width="150" x="405" y="207"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="400" y="212"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="400" y="249.5938"/><text fill="#D3D3D3" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="130" x="415" y="229.9951">«SSL Termination»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="454" y="246.292">Apache</text><!--MD5=[ed05b4b62fc63017e649bfedb1046e43]
entity WebApp--><rect fill="#008292" filter="url(#f1jkxszacicw65)" height="52.5938" style="stroke: #A9A9A9; stroke-width: 1.5;" width="152" x="312" y="331"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="307" y="336"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="307" y="373.5938"/><text fill="#D3D3D3" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="132" x="322" y="353.9951">«Single-page App»</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="359" y="370.292">WebApp</text><!--MD5=[645d8587175d8f7ad110cd370775931d]
entity API--><rect fill="#008292" filter="url(#f1jkxszacicw65)" height="36.2969" style="stroke: #A9A9A9; stroke-width: 1.5;" width="41" x="367.5" y="554"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="362.5" y="559"/><rect fill="#008292" height="5" style="stroke: #A9A9A9; stroke-width: 1.5;" width="10" x="362.5" y="580.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="377.5" y="576.9951">API</text><!--MD5=[02f8d7a01d5bd40f66148251b27cdbf9]
entity AuthenticationProvider--><polygon fill="#F8F8F8" filter="url(#f1jkxszacicw65)" points="6,344.5,16,334.5,202,334.5,202,370.7969,192,380.7969,6,380.7969,6,344.5" style="stroke: #A9A9A9; stroke-width: 1.5;"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="192" x2="201" y1="344.5" y2="335.5"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="6" x2="192" y1="344.5" y2="344.5"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="192" x2="192" y1="344.5" y2="380.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="156" x="21" y="367.4951">AuthenticationProvider</text><!--MD5=[66400c04b8058c6aec00755fdb29692c]
entity EmailServer--><polygon fill="#F8F8F8" filter="url(#f1jkxszacicw65)" points="159,677,169,667,279,667,279,719.5938,269,729.5938,159,729.5938,159,677" style="stroke: #A9A9A9; stroke-width: 1.5;"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="269" x2="278" y1="677" y2="668"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="159" x2="269" y1="677" y2="677"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="269" x2="269" y1="677" y2="729.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="56" x="186" y="699.9951">«SMTP»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="174" y="716.292">EmailServer</text><!--MD5=[caa8a061d8adf7ffc08ca9387f8426d9]
entity 3rdPartySystem--><polygon fill="#F8F8F8" filter="url(#f1jkxszacicw65)" points="314,677,324,667,462,667,462,719.5938,452,729.5938,314,729.5938,314,677" style="stroke: #A9A9A9; stroke-width: 1.5;"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="452" x2="461" y1="677" y2="668"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="314" x2="452" y1="677" y2="677"/><line style="stroke: #A9A9A9; stroke-width: 1.5;" x1="452" x2="452" y1="677" y2="729.5938"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="55" x="355.5" y="699.9951">«REST»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="329" y="716.292">3rdPartySystem</text><!--MD5=[7fbd20eab0f047d95d8cf961cd333b40]
entity Postgres--><path d="M497,686 C497,676 538,676 538,676 C538,676 579,676 579,686 L579,711.2969 C579,721.2969 538,721.2969 538,721.2969 C538,721.2969 497,721.2969 497,711.2969 L497,686 " fill="#008292" filter="url(#f1jkxszacicw65)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M497,686 C497,696 538,696 538,696 C538,696 579,696 579,686 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="507" y="712.9951">Postgres</text><!--MD5=[2545fa8f42460ea0ad0f7edf19ed9b36]
reverse link AuthenticationProvider to WebApp--><path d="M207.211,357.5 C241.7904,357.5 279.6935,357.5 311.8232,357.5 " fill="none" id="AuthenticationProvider&lt;-WebApp" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="202.1344,357.5,211.1344,361.5,207.1344,357.5,211.1344,353.5,202.1344,357.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="220.5" y="350.5669">OIDC, Haka</text><!--MD5=[430e7c55d2c04d254fb667505dce0de7]
link WebApp to API--><path d="M388,384.2329 C388,426.58 388,508.3941 388,548.5748 " fill="none" id="WebApp-&gt;API" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="388,553.7278,392,544.7278,388,548.7278,384,544.7278,388,553.7278" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="389" y="489.0669">REST</text><!--MD5=[f3c8ed30c302d4c68c8c4b67e78296b9]
reverse link AuthenticationProvider to API--><path d="M138.8658,383.8335 C198.7214,429.0414 319.2293,520.0588 367.4084,556.4476 " fill="none" id="AuthenticationProvider&lt;-API" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="134.6628,380.6591,139.4338,389.2752,138.6527,383.6725,144.2553,382.8914,134.6628,380.6591" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="284" y="489.0669">OIDC, Haka</text><!--MD5=[52fc90f51371af7105baf5406c960ab4]
link Applicant to Apache--><path d="M405.7231,105.4102 C423.0195,135.2377 446.1023,175.0438 461.9186,202.3189 " fill="none" id="Applicant-&gt;Apache" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="464.5881,206.9224,463.5335,197.1302,462.0799,202.597,456.613,201.1434,464.5881,206.9224" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[58f17bf39d1c21ace3008334aa318ab4]
link Approver to Apache--><path d="M480,105.4102 C480,134.9912 480,174.3865 480,201.6401 " fill="none" id="Approver-&gt;Apache" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="480,206.9224,484,197.9224,480,201.9224,476,197.9224,480,206.9224" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[1b4562728f50daad311f403661f80144]
link Apache to WebApp--><path d="M460.2637,260.1011 C445.7719,279.6336 426.05,306.2153 410.8704,326.6747 " fill="none" id="Apache-&gt;WebApp" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="407.7037,330.9429,416.2787,326.0984,410.6829,326.9274,409.8539,321.3316,407.7037,330.9429" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[51105a7ec9fa5fa175f32d480c4aea53]
link APIUser to Apache--><path d="M550.4873,105.4102 C534.0733,135.2377 512.1682,175.0438 497.1588,202.3189 " fill="none" id="APIUser-&gt;Apache" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#000000" points="494.6256,206.9224,502.4692,200.9661,497.0363,202.5419,495.4604,197.109,494.6256,206.9224" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="562.5" y="148.0669">use with API-Key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="533" y="163.1997">authenticated against DB</text><!--MD5=[15eae3ef96a01142d171271e1e6c07ce]
link Apache to API--><path d="M484.0839,260.2632 C487.869,290.6662 491.6036,341.5654 482,384 C467.4305,448.3772 426.5223,515.6361 403.7685,549.5659 " fill="none" id="Apache-&gt;API" style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#000000" points="400.8175,553.9312,409.1718,548.7153,403.6178,549.7889,402.5442,544.2349,400.8175,553.9312" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="503.5" y="427.0669">use with API-Key</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="474" y="442.1997">authenticated against DB</text><!--MD5=[4695ed91f423ba1c16633039bbdaf4fd]
link API to Postgres--><path d="M408.8533,575.24 C435.0488,580.3442 479.8481,592.6493 507,620 C520.6588,633.7588 528.4796,654.2649 532.8485,670.8683 " fill="none" id="API-&gt;Postgres" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="534.0962,675.884,535.8053,666.1846,532.8892,671.0319,528.0419,668.1158,534.0962,675.884" style="stroke: #000000; stroke-width: 1.0;"/><!--MD5=[65ecb90b5353004f2a51b4e9d10679cf]
link API to EmailServer--><path d="M367.4152,575.2921 C340.4232,580.5383 292.8834,593.0863 262,620 C249.1593,631.1901 239.4316,647.1887 232.505,661.8267 " fill="none" id="API-&gt;EmailServer" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="230.263,666.7299,237.6436,660.2087,232.3424,662.1828,230.3683,656.8816,230.263,666.7299" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="263" y="633.0669">email notifications</text><!--MD5=[4f51c2b5f791f9d0188fde89086781d8]
link API to 3rdPartySystem--><path d="M388,590.1244 C388,608.6703 388,638.0168 388,661.4969 " fill="none" id="API-&gt;3rdPartySystem" style="stroke: #000000; stroke-width: 1.0;"/><polygon fill="#000000" points="388,666.7165,392,657.7165,388,661.7165,384,657.7165,388,666.7165" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="389" y="633.0669">entitlement push</text><!--MD5=[b6bc6e012d40c7e4e3f345806792c75b]
@startuml
skinParam ArrowColor Black
skinParam BackgroundColor White
skinParam actorBorderColor Black
skinparam actorBackgroundColor LightGray
skinParam componentBorderColor DarkGray
skinparam componentFontColor White
skinparam componentStereotypeFontColor LightGray
skinparam componentBackgroundColor #008292
skinparam databaseFontColor White
skinparam databaseBackgroundColor #008292
skinparam entityBackgroundColor LightGray
skinparam entityBorderColor DarkGray
skinparam queueBackgroundColor LightGray
skinparam queueBorderColor DarkGray
skinparam frameBorderColor DarkGray
skinparam frameBackgroundColor #f8f8f8
skinparam nodeBorderColor DarkGray
skinparam nodeBackgroundColor #f8f8f8
skinparam DefaultTextAlignment Center

together {
  actor Applicant
  actor Approver
  actor APIUser
}

node Proxy {
  component Apache << SSL Termination >>
}

node REMS {
  component WebApp << Single-page App >>

  component API
}

node AuthenticationProvider {
}

database Postgres

node EmailServer << SMTP >> {
}

node 3rdPartySystem << REST >> {
}


WebApp -left-> AuthenticationProvider : "OIDC, Haka"
WebApp -down-> API : "REST"
API -left-> AuthenticationProvider : "OIDC, Haka"
Applicant -down-> Apache
Approver -down-> Apache
Apache -down-> WebApp
APIUser .down.> Apache : "use with API-Key\nauthenticated against DB"
Apache .down.> API : "use with API-Key\nauthenticated against DB"
API -down-> Postgres
API -down-> EmailServer : "email notifications"
API -down-> 3rdPartySystem : "entitlement push"

@enduml

PlantUML version 1.2020.02(Sun Mar 01 12:22:07 EET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.6+10-post-Ubuntu-1ubuntu119.10.1
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>